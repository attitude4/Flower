<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>For You ‚Äî a Little Garden</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&family=Quicksand:wght@300;500&display=swap" rel="stylesheet">
<style>
  :root{
    --bg1: #fffaf6;
    --bg2: #fff4ff;
    --card: #ffffff;
    --muted: #6b6b72;
    --accent1:#ff7aa0;
    --accent2:#ffd28f;
    --accent3:#9bd6ff;
    --shadow: 0 12px 30px rgba(18,20,30,0.06);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: "Quicksand", "Montserrat", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    background: linear-gradient(180deg, var(--bg1) 0%, var(--bg2) 100%);
    color:#163244;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:24px;
  }

  /* container */
  .frame{
    width:100%;
    max-width:980px;
    background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.85));
    border-radius:20px;
    box-shadow: var(--shadow);
    overflow:hidden;
    position:relative;
  }
  header.site-head{
    display:flex;
    align-items:center;
    gap:14px;
    padding:18px 22px;
    border-bottom:1px solid rgba(20,30,40,0.03);
  }
  .logo{
    width:52px;height:52px;border-radius:12px;display:flex;align-items:center;justify-content:center;
    background:linear-gradient(135deg,var(--accent1),#ffb1d0);
    color:white;font-weight:700;font-size:20px;box-shadow:0 6px 18px rgba(255,122,160,0.12);
  }
  .title{
    font-weight:700;font-size:1.05rem;color:#173040;margin:0;
  }
  .subtitle{margin:0;color:var(--muted);font-size:0.92rem}

  /* pages container */
  .pages{
    position:relative;
    height:640px;
    overflow:hidden;
  }

  /* each page */
  .page{
    position:absolute;
    inset:0;
    padding:28px;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    gap:20px;
    transition:transform 600ms cubic-bezier(.2,.9,.25,1),opacity 320ms ease;
    opacity:0; pointer-events:none; transform: translateX(40px) scale(0.995);
  }
  .page.show{opacity:1; pointer-events:auto; transform: translateX(0) scale(1)}
  .page.enter-left{transform:translateX(-40px)}
  .content{
    width:100%;
    max-width:840px;
    text-align:center;
    z-index:50;
  }

  h1{margin:0;font-size:1.6rem;color:#153640}
  p.lead{margin:8px 0 0 0;color:#274a57;font-size:1.02rem;line-height:1.45}

  .controls{
    display:flex;gap:10px;margin-top:18px;justify-content:center;
  }
  .btn{
    padding:12px 16px;border-radius:12px;border:none;font-weight:700;
    cursor:pointer;box-shadow:0 8px 20px rgba(12,20,30,0.06);
  }
  .btn.ghost{background:transparent;color:#173640;border:1px solid rgba(21,52,64,0.06)}
  .btn.primary{background:linear-gradient(90deg,var(--accent1),#ffb1d0);color:white}

  /* full-bleed visual area where flowers live */
  .visual{
    position:absolute;left:0;right:0;top:0;bottom:0;pointer-events:none;
    overflow:hidden;
  }

  /* floating flower base style */
  .flower{
    position:absolute;
    width:72px;height:72px;
    transform-origin:center;
    pointer-events:none;
    will-change:transform,opacity;
  }
  .flower .petal{
    position:absolute;
    width:32px;height:32px;border-radius:50%;
    background:linear-gradient(135deg,#fff2, #fff0);
    transform-origin:center;
    box-shadow:0 8px 14px rgba(18,20,30,0.07);
  }
  /* simple stylized center */
  .flower .core{
    position:absolute;width:14px;height:14px;border-radius:50%;left:50%;top:50%;transform:translate(-50%,-50%);
    background:var(--accent2);box-shadow:0 8px 14px rgba(0,0,0,0.06);
  }

  /* a few flower color variants */
  .f1 .petal{background:linear-gradient(135deg,#ffd6e0,#ff9fb8)}
  .f1 .core{background:#ffe5b2}

  .f2 .petal{background:linear-gradient(135deg,#fff0b8,#ffd28f)}
  .f2 .core{background:#ffb56a}

  .f3 .petal{background:linear-gradient(135deg,#d0f0ff,#9bd6ff)}
  .f3 .core{background:#c0ecff}

  .f4 .petal{background:linear-gradient(135deg,#e3ffe9,#bdf7d4)}
  .f4 .core{background:#c9ffd9}

  /* petal arrangement helpers */
  .petal.p1{left:6px;top:6px}
  .petal.p2{right:6px;top:6px}
  .petal.p3{left:6px;bottom:6px}
  .petal.p4{right:6px;bottom:6px}
  .petal.p5{left:50%;top:6px;transform:translateX(-50%)}
  .petal.p6{left:50%;bottom:6px;transform:translateX(-50%)}

  /* animations */
  @keyframes floatUp {
    0%{transform:translateY(30px) rotate(0) scale(0.98); opacity:0}
    15%{opacity:1}
    50%{transform:translateY(-20px) rotate(6deg) scale(1)}
    100%{transform:translateY(-120px) rotate(360deg) scale(0.9); opacity:0}
  }

  @keyframes sway {
    0%{transform:translateY(0) rotate(-3deg)}
    50%{transform:translateY(-8px) rotate(4deg)}
    100%{transform:translateY(0) rotate(-3deg)}
  }

  /* falling petal style */
  .falling {
    position:absolute;width:18px;height:18px;border-radius:50%;opacity:0.95;
    pointer-events:none;transform-origin:center;
    filter:drop-shadow(0 8px 18px rgba(18,20,30,0.06));
  }

  @keyframes fall {
    0%{transform:translateY(-10vh) rotate(0); opacity:1}
    100%{transform:translateY(120vh) rotate(420deg); opacity:0.02}
  }

  /* bouquet area */
  .bouquet-wrap{
    position:relative;width:340px;height:420px;border-radius:20px;background:linear-gradient(180deg,#ffffff,#fff7f6);
    display:flex;align-items:center;justify-content:center;box-shadow:0 10px 30px rgba(18,20,30,0.04);
    z-index:60; pointer-events:auto;
  }
  .bouquet{
    position:relative;width:260px;height:320px;
  }
  .stem-bunch{
    position:absolute;left:50%;transform:translateX(-50%);bottom:10px;
    width:100px;height:160px;border-radius:8px;background:linear-gradient(180deg,#f7eef0,#ffdfe8);
    transform-origin:center;
  }

  /* final big bouquet card */
  .final-card{
    padding:20px;border-radius:16px;background:linear-gradient(180deg,#fff,#fff8fb);
    box-shadow:0 14px 40px rgba(18,20,30,0.06); max-width:680px;
  }
  .message{
    margin-top:12px;color:#173640;font-weight:600;font-size:1.02rem;
    line-height:1.45; text-align:center;
  }
  .signature{margin-top:12px;color:#6b6b72;font-weight:700;font-size:0.95rem}

  /* small screens */
  @media (max-width:820px){
    .pages{height:760px}
    .bouquet-wrap{width:92%;height:380px}
  }
  @media (max-width:520px){
    .pages{height:840px;padding:18px}
    h1{font-size:1.3rem}
    .page{padding:18px}
  }
</style>
</head>
<body>
  <div class="frame" role="main" aria-label="Flower surprise">
    <header class="site-head">
      <div class="logo">B</div>
      <div>
        <p class="title">A little garden ‚Äî for her</p>
        <p class="subtitle">A tiny multi-page journey filled with flowers and a message.</p>
      </div>
    </header>

    <div class="pages" id="pages">
      <!-- PAGE 1 -->
      <section class="page show" id="page1" aria-hidden="false" data-index="0">
        <div class="content">
          <h1 id="greeting">Hey ‚Äî I made this for you</h1>
          <p class="lead" id="line1">A little garden to make you smile. No rush ‚Äî just something small from me to you.</p>
          <div class="controls">
            <button class="btn primary" id="p1next">Next üå∏</button>
          </div>
        </div>
        <!-- decorative visual area -->
        <div class="visual" id="visual1"></div>
      </section>

      <!-- PAGE 2 -->
      <section class="page" id="page2" aria-hidden="true" data-index="1">
        <div class="content">
          <h1 id="p2title">A path of flowers</h1>
          <p class="lead" id="p2line">Each flower here is a little reminder: you're special, bright, and full of life.</p>
          <div class="controls">
            <button class="btn ghost" id="p2prev">Back</button>
            <button class="btn primary" id="p2next">Next üå∫</button>
          </div>
        </div>
        <div class="visual" id="visual2"></div>
      </section>

      <!-- PAGE 3 -->
      <section class="page" id="page3" aria-hidden="true" data-index="2">
        <div class="content">
          <h1 id="p3title">Watch them gather</h1>
          <p class="lead" id="p3line">When all these little flowers come together, they create something even more beautiful.</p>
          <div style="margin-top:18px" class="bouquet-wrap" aria-hidden="true">
            <div class="bouquet" id="bouquet"></div>
            <div class="stem-bunch" aria-hidden="true"></div>
          </div>
          <div class="controls">
            <button class="btn ghost" id="p3prev">Back</button>
            <button class="btn primary" id="p3next">Final Surprise üíê</button>
          </div>
        </div>
        <div class="visual" id="visual3"></div>
      </section>

      <!-- PAGE 4 -->
      <section class="page" id="page4" aria-hidden="true" data-index="3">
        <div class="content">
          <div class="final-card">
            <h1 id="finalTitle">For you ‚Äî with all my care</h1>
            <div style="display:flex;align-items:center;flex-direction:column;gap:14px">
              <div class="bouquet-wrap" style="box-shadow:none;background:transparent">
                <div class="bouquet" id="finalBouquet"></div>
              </div>
              <div class="message" id="finalMessage">I don't want to rush you. Just wanted you to know you make my world brighter. Take all the time you need.</div>
              <div class="signature" id="finalSignature">‚Äî From: Your Friend</div>
              <div style="margin-top:10px" class="controls">
                <button class="btn ghost" id="replay">Replay petals</button>
                <button class="btn primary" id="restart">Send again / Restart</button>
              </div>
            </div>
          </div>
        </div>
        <div class="visual" id="visual4"></div>
      </section>
    </div>
  </div>

<script>
/* -----------------------
  CONFIG ‚Äî edit these
------------------------*/
const RECIPIENT = "Smriti";                 // use her name if you want
const SENDER = "‚Äî From: Ashim";           // change to your name
const DEFAULT_MESSAGE = "You are the most special part of my life. Just like this bouquet, my feelings for you are blooming beautifully every day. üå∏";

/* -----------------------
  Utility & state
------------------------*/
const pages = Array.from(document.querySelectorAll('.page'));
let current = 0;
const total = pages.length;

// Elements
const visual1 = document.getElementById('visual1');
const visual2 = document.getElementById('visual2');
const visual3 = document.getElementById('visual3');
const visual4 = document.getElementById('visual4');

const greeting = document.getElementById('greeting');
const finalMessage = document.getElementById('finalMessage');
const finalSignature = document.getElementById('finalSignature');

/* Apply URL overrides: ?name=...&msg=... */
(function applyUrlOverrides(){
  const params = new URLSearchParams(location.search);
  if(params.has('name')) {
    const name = params.get('name').slice(0,80);
    if(name) {
      greeting.textContent = `Hey ${decodeURIComponent(name)} ‚Äî I made this for you`;
      document.getElementById('p2title').textContent = `${decodeURIComponent(name)}, a path of flowers`;
      document.getElementById('p3title').textContent = `Watch them gather, ${decodeURIComponent(name)}`;
      document.getElementById('finalTitle').textContent = `For you, ${decodeURIComponent(name)} ‚Äî with all my care`;
      finalSignature.textContent = SENDER;
    }
  } else {
    greeting.textContent = `Hey ${RECIPIENT} ‚Äî I made this for you`;
    finalSignature.textContent = SENDER;
  }
  if(params.has('msg')){
    try{
      const raw = decodeURIComponent(params.get('msg')).slice(0,600);
      if(raw) finalMessage.textContent = raw;
    }catch(e){}
  } else {
    finalMessage.textContent = DEFAULT_MESSAGE;
  }
})();

/* -----------------------
  Navigation
------------------------*/
function showPage(index){
  pages.forEach((p,i)=>{
    if(i === index) {
      p.classList.add('show');
      p.setAttribute('aria-hidden','false');
    } else {
      p.classList.remove('show');
      p.setAttribute('aria-hidden','true');
    }
  });
  current = index;
  // trigger page-specific visual actions
  if(index === 0) { spawnManyFloating(visual1, 12); }
  if(index === 1) { spawnFalling(visual2, 18); spawnManyFloating(visual2, 8); }
  if(index === 2) { assembleBouquet(); spawnManyFloating(visual3, 6); }
  if(index === 3) { showFinalBouquet(); spawnFalling(visual4, 30); }
}

/* Next / Prev */
document.getElementById('p1next').addEventListener('click', ()=> showPage(1));
document.getElementById('p2prev').addEventListener('click', ()=> showPage(0));
document.getElementById('p2next').addEventListener('click', ()=> showPage(2));
document.getElementById('p3prev').addEventListener('click', ()=> showPage(1));
document.getElementById('p3next').addEventListener('click', ()=> showPage(3));
document.getElementById('replay').addEventListener('click', ()=> {
  // clear and respawn falling on final
  clearVisual(visual4);
  spawnFalling(visual4, 30);
});
document.getElementById('restart').addEventListener('click', ()=> {
  // go to first page and reinit
  clearAllVisuals();
  showPage(0);
});

/* start visuals for page 1 */
showPage(0);

/* -----------------------
  Visual helpers
------------------------*/

/* clear area */
function clearVisual(container){
  while(container.firstChild) container.removeChild(container.firstChild);
}
function clearAllVisuals(){
  [visual1,visual2,visual3,visual4].forEach(clearVisual);
}

/* random helper */
function rand(min,max){ return Math.random()*(max-min)+min; }

/* create a stylized flower element
   variant: 1..4
*/
function createFlowerElement(variant=1, size=72){
  const el = document.createElement('div');
  el.className = `flower f${variant}`;
  el.style.width = size + 'px';
  el.style.height = size + 'px';
  // create several petals positions
  for(let i=1;i<=6;i++){
    const p = document.createElement('div');
    p.className = 'petal p'+i;
    // random rotate for variety
    p.style.transform = `rotate(${rand(-40,40)}deg)`;
    el.appendChild(p);
  }
  const core = document.createElement('div');
  core.className = 'core';
  el.appendChild(core);
  return el;
}

/* spawn many floating flowers across a container */
function spawnManyFloating(container, count=10){
  clearVisual(container);
  for(let i=0;i<count;i++){
    const v = createFlowerElement(Math.floor(rand(1,5)), rand(48,88));
    // random position
    const left = rand(4, 92);
    const top = rand(12, 78);
    v.style.left = left + '%';
    v.style.top = top + '%';
    // random rotation and animation
    const dur = rand(8, 18);
    const delay = rand(0, 6);
    v.style.animation = `floatUp ${dur}s ease-in-out ${delay}s infinite`;
    // add slight sway on transform origin for a gentle movement
    v.style.willChange = 'transform,opacity';
    container.appendChild(v);
  }
}

/* spawn falling petals (small) */
function spawnFalling(container, count=20){
  // create a pool of different colored petals
  const colors = [
    'linear-gradient(135deg,#ffd6e0,#ff9fb8)',
    'linear-gradient(135deg,#fff0b8,#ffd28f)',
    'linear-gradient(135deg,#d0f0ff,#9bd6ff)',
    'linear-gradient(135deg,#e3ffe9,#bdf7d4)'
  ];
  for(let i=0;i<count;i++){
    const p = document.createElement('div');
    p.className = 'falling';
    const left = rand(-10,110);
    p.style.left = left + '%';
    p.style.top = rand(-20, -5) + 'vh';
    const size = rand(10,22);
    p.style.width = size + 'px';
    p.style.height = size + 'px';
    p.style.borderRadius = (size/2)+'px';
    p.style.background = colors[Math.floor(rand(0,colors.length))];
    // animation duration and delay vary
    const dur = rand(6, 14);
    const delay = rand(0, 6);
    p.style.animation = `fall ${dur}s linear ${delay}s forwards`;
    // slight horizontal drift via CSS transform animation using setInterval (or use CSS)
    container.appendChild(p);
    // remove after animation ends
    setTimeout(()=> {
      if(p && p.parentElement) p.parentElement.removeChild(p);
    }, (dur+delay+0.5)*1000);
  }
}

/* -----------------------
  Bouquet assembly (page 3)
------------------------*/
function assembleBouquet(){
  const q = document.getElementById('bouquet');
  q.innerHTML = '';
  // create a pool of flowers that start scattered and move to bouquet positions
  const count = 14;
  const positions = generateBouquetPositions(count, 260, 320);
  let flew = 0;
  for(let i=0;i<count;i++){
    const f = createFlowerElement((i%4)+1, rand(44,78));
    // start scattered around edges of bouquet container
    const startX = rand(-200, 520);
    const startY = rand(-120, 420);
    f.style.left = startX + 'px';
    f.style.top = startY + 'px';
    f.style.position = 'absolute';
    f.style.opacity = '0';
    q.appendChild(f);

    // animate to bouquet positions with stagger
    setTimeout(((el, target) => {
      return ()=> {
        el.style.transition = 'all 900ms cubic-bezier(.2,.9,.25,1)';
        el.style.left = target.x + 'px';
        el.style.top = target.y + 'px';
        el.style.transform = `rotate(${rand(-20,20)}deg) scale(1)`;
        el.style.opacity = '1';
        // slight pop
        el.animate([{transform:'scale(0.8)'},{transform:'scale(1.03)'},{transform:'scale(1)'}], {duration:520, easing:'ease-out'});
      };
    })(f, positions[i]), 200 + i*80);
  }

  // small confetti of petals while assembling
  for(let j=0;j<18;j++){
    setTimeout(()=> spawnTinyPetal(q), j*120);
  }
}

/* produce positions (x,y) within bouquet box width/height */
function generateBouquetPositions(n, w, h){
  // center-based spread
  const cx = w/2;
  const cy = h/2 - 30;
  const spots = [];
  const layers = Math.ceil(n/6);
  let angleBase = -90;
  let idx = 0;
  for(let layer=0;layer<layers;layer++){
    const radius = 20 + layer*28;
    const per = Math.min(6, n-idx);
    for(let i=0;i<per;i++){
      const a = (i/per)*Math.PI*2 + (layer*0.15);
      const x = cx + Math.cos(a+angleBase/180*Math.PI)*radius + rand(-14,14);
      const y = cy + Math.sin(a+angleBase/180*Math.PI)*radius + layer*12 + rand(-8,18);
      spots.push({x: x - 36, y: y - 36}); // offset half size
      idx++;
      if(idx>=n) break;
    }
  }
  // if still short, add random spots
  while(spots.length < n){
    spots.push({x: rand(60,w-60), y: rand(40,h-120)});
  }
  return spots;
}

/* small tiny petals used during assemble for confetti effect */
function spawnTinyPetal(container){
  const el = document.createElement('div');
  el.style.width = el.style.height = rand(6,14)+'px';
  el.style.position = 'absolute';
  el.style.left = rand(20,240)+'px';
  el.style.top = rand(20,220)+'px';
  el.style.borderRadius = '50%';
  const colors = ['#ff9fb8','#ffd28f','#9bd6ff','#bdf7d4'];
  el.style.background = colors[Math.floor(rand(0,colors.length))];
  el.style.opacity = '0.95';
  el.style.transform = `translateY(-10px) rotate(${rand(0,360)}deg)`;
  container.appendChild(el);
  el.animate([
    {transform:'translateY(0px) rotate(0deg)', opacity:1},
    {transform:'translateY(80px) rotate(240deg)', opacity:0}
  ], {duration: 900 + Math.random()*800, easing:'linear'});
  setTimeout(()=> { if(el && el.parentElement) el.parentElement.removeChild(el); }, 1800);
}

/* -----------------------
  Final bouquet (page 4)
------------------------*/
function showFinalBouquet(){
  const fin = document.getElementById('finalBouquet');
  fin.innerHTML = '';
  // produce a nicer static bouquet built from several flower elements with small animations
  const count = 12;
  const positions = generateBouquetPositions(count, 260, 320);
  for(let i=0;i<count;i++){
    const f = createFlowerElement((i%4)+1, rand(38,78));
    f.style.position = 'absolute';
    f.style.left = (positions[i].x) + 'px';
    f.style.top = (positions[i].y) + 'px';
    f.style.transform = `rotate(${rand(-25,25)}deg)`;
    f.style.transition = `transform 400ms ease ${i*60}ms`;
    fin.appendChild(f);
    // gentle float/pulse
    setTimeout(()=> {
      f.animate([{transform:`rotate(${rand(-25,25)}deg) translateY(0px)`}, {transform:`rotate(${rand(-25,25)}deg) translateY(-6px)`}, {transform:`rotate(${rand(-25,25)}deg) translateY(0px)`}], {duration: 3800 + (i*120), iterations: Infinity, easing:'ease-in-out'});
    }, 120 + i*40);
  }
}

/* -----------------------
  small UX polish
------------------------*/
/* keyboard navigation: arrows */
document.addEventListener('keydown', (e)=>{
  if(e.key === 'ArrowRight') {
    const nxt = Math.min(total-1, current+1);
    showPage(nxt);
  } else if(e.key === 'ArrowLeft') {
    const prev = Math.max(0, current-1);
    showPage(prev);
  } else if(e.key === 'Escape') {
    // do nothing
  }
});

/* accessibility: clicking outside mod? none here */

/* Clean up visuals periodically to prevent too many nodes */
setInterval(()=>{
  [visual1,visual2,visual3,visual4].forEach(vc=>{
    // remove old falling nodes that linger (safety)
    const smalls = vc.querySelectorAll('.falling');
    if(smalls.length > 120){
      for(let i=0;i<50;i++){
        if(smalls[i] && smalls[i].parentElement) smalls[i].parentElement.removeChild(smalls[i]);
      }
    }
  });
}, 6000);

</script>
</body>
</html>
